<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="2logi.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="login-container">
        <h2>Login</h2>
        <form id="loginForm" action="5loca.html" method="POST" onsubmit="return validateLogin()"> <!-- Redirects to welcome.html -->
            <div class="input-group">
                <label for="username">Email or Phone Number</label>
                <input type="text" id="username" name="username" placeholder="Enter your email or phone number" required>
            </div>

            <div class="input-group">
                <label for="password">Password</label>
                <div class="password-wrapper">
                    <input type="password" id="password" name="password" placeholder="Enter your password" required>
                    <i class="far fa-eye" id="togglePassword" style="cursor: pointer;"></i>
                </div>
            </div>

            <div class="input-group">
                <input type="submit" value="Login">
            </div>

            <div class="forgot-password">
                <a href="4repas.html">Forgot Password?</a>
            </div>
        </form>
    </div>

    <script>
        const togglePassword = document.querySelector('#togglePassword');
        const password = document.querySelector('#password');

        // Toggle password visibility
        togglePassword.addEventListener('click', function () {
            const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
            password.setAttribute('type', type);
            this.classList.toggle('fa-eye-slash');
        });

        // Store registered user data (for demo purposes)
        const registeredUser = {
            username: "testuser@gmail.com", // Change this to the registered username
            phone: "1234567890", // Registered phone number
            password: "Test@123" // Registered password
        };

        // Validate login
        function validateLogin() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // Check if the entered username is a valid email or phone number
            const emailPattern = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
            const phonePattern = /^[0-9]{10}$/;
            const specialCharPattern = /[!@#$%^&*(),.?":{}|<>]/;

            if (!emailPattern.test(username) && !phonePattern.test(username)) {
                alert("Enter a valid email (must end with @gmail.com) or phone number (10 digits).");
                return false;
            }

            // Check if password contains at least one special character
            if (!specialCharPattern.test(password)) {
                alert("Password must contain at least one special character.");
                return false;
            }

            // Validate credentials (compare with registered data)
            if (
                (username === deepika) &&
                password === deepika@123
            ) {
                alert("Login successful!");
                return true; // Allow form submission
            } else {
                alert("Not valid. Username or password is incorrect.");
                return false; // Prevent form submission
            }
        }
    </script>
</body>
</html>
